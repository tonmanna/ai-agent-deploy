<div class="agent-card">
  <!-- Default Agent Badge -->
  <div *ngIf="agent.isDefault" 
       class="default-badge" 
       title="Default Agent">
    <span class="badge-icon">🛡️</span>
  </div>
  
  <!-- Agent Header -->
  <div class="agent-header">
    <h4 class="agent-name">{{agent.name}}</h4>
    
    <!-- Action Buttons -->
    <div class="action-buttons">
      <button
        (click)="onEditPrompt()"
        class="action-btn edit-prompt-btn"
        title="Edit Prompt"
      >
        <span class="btn-icon">✏️</span>
      </button>
      <button
        (click)="onEdit()"
        class="action-btn edit-btn"
        title="Edit Agent"
      >
        <span class="btn-icon">⚙️</span>
      </button>
      <button
        *ngIf="!agent.isDefault"
        (click)="onDelete()"
        class="action-btn delete-btn"
        title="Delete Agent"
      >
        <span class="btn-icon">🗑️</span>
      </button>
      
      <!-- Status Badge -->
      <span class="status-badge"
            [class]="getStatusClass(agent.status)">
        {{agent.status}}
      </span>
    </div>
  </div>
  
  <!-- Agent Details -->
  <div class="agent-details">
    <p class="collections-count">
      <span>Collections:</span>
      <span class="count">{{agent.collections.length}}</span>
    </p>
    
    <!-- Collection Tags -->
    <div class="collection-tags" *ngIf="agent.collections.length > 0">
      <span 
        *ngFor="let colId of agent.collections; trackBy: trackByCollectionId" 
        class="collection-tag"
        [title]="getCollectionName(colId)"
      >
        {{getCollectionName(colId) | slice:0:20}}{{getCollectionName(colId).length > 20 ? '...' : ''}}
      </span>
    </div>
    
    <!-- No Collections Message -->
    <div *ngIf="agent.collections.length === 0" class="no-collections">
      No collections assigned
    </div>
  </div>
</div>